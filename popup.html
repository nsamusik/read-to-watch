<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Read To Watch Settings</title>
    <style>
      * { box-sizing: border-box; }
      body { 
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        margin: 0;
        padding: 20px;
        width: 400px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: #fff;
        max-height: 600px;
        overflow-y: auto;
      }
      
      .container {
        background: rgba(255, 255, 255, 0.95);
        border-radius: 16px;
        padding: 20px;
        color: #1a1a2e;
      }
      
      h1 { 
        font-size: 20px;
        margin: 0 0 16px 0;
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 700;
      }
      
      .stats-preview {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 16px;
        border-radius: 12px;
        margin-bottom: 20px;
        text-align: center;
      }
      
      .stats-preview-title {
        font-size: 13px;
        opacity: 0.9;
        margin-bottom: 8px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      .stats-preview-content {
        display: flex;
        justify-content: space-around;
        gap: 16px;
      }
      
      .stat-box {
        flex: 1;
      }
      
      .stat-number {
        font-size: 28px;
        font-weight: 700;
        line-height: 1;
      }
      
      .stat-label {
        font-size: 12px;
        opacity: 0.9;
        margin-top: 4px;
      }
      
      .section {
        margin-bottom: 20px;
        padding-bottom: 20px;
        border-bottom: 1px solid rgba(0, 0, 0, 0.1);
      }
      
      .section:last-of-type {
        border-bottom: none;
      }
      
      .section-title {
        font-size: 14px;
        font-weight: 600;
        margin-bottom: 12px;
        color: #667eea;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      label {
        display: block;
        margin: 12px 0;
        font-size: 14px;
      }
      
      label.main-label {
        font-weight: 600;
        margin-bottom: 8px;
        color: #1a1a2e;
      }
      
      select, input[type="text"], input[type="password"], input[type="number"] {
        width: 100%;
        padding: 10px 12px;
        border-radius: 8px;
        border: 2px solid #e5e7eb;
        font-size: 14px;
        transition: all 0.2s;
        background: white;
        font-family: inherit;
      }
      
      select:focus, input:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
      }
      
      .checkbox-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }
      
      .checkbox-label {
        display: flex;
        align-items: center;
        gap: 10px;
        padding: 12px;
        background: #f9fafb;
        border-radius: 8px;
        cursor: pointer;
        transition: all 0.2s;
        border: 2px solid transparent;
      }
      
      .checkbox-label:hover {
        background: #f3f4f6;
        border-color: #667eea;
      }
      
      .checkbox-label input[type="checkbox"] {
        width: 20px;
        height: 20px;
        cursor: pointer;
        accent-color: #667eea;
      }
      
      .checkbox-label-text {
        flex: 1;
        font-size: 14px;
        font-weight: 500;
      }
      
      .help-text {
        font-size: 12px;
        color: #6b7280;
        margin-top: 6px;
        line-height: 1.4;
      }
      
      .number-input-group {
        display: grid;
        grid-template-columns: 2fr 1fr;
        gap: 8px;
        align-items: end;
      }
      
      button {
        width: 100%;
        border-radius: 10px;
        padding: 14px 16px;
        border: none;
        cursor: pointer;
        font-weight: 600;
        font-size: 15px;
        transition: all 0.2s;
        font-family: inherit;
      }
      
      .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
      }
      
      .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 6px 16px rgba(102, 126, 234, 0.5);
      }
      
      .btn-secondary {
        background: #6b7280;
        color: white;
      }
      
      .btn-secondary:hover {
        background: #4b5563;
      }
      
      .button-group {
        display: flex;
        gap: 8px;
        margin-top: 16px;
      }
      
      .button-group button {
        flex: 1;
      }
      
      .info-box {
        background: #eff6ff;
        border: 2px solid #3b82f6;
        border-radius: 8px;
        padding: 12px;
        font-size: 13px;
        line-height: 1.5;
        color: #1e40af;
        margin-top: 16px;
      }
      
      .info-box strong {
        display: block;
        margin-bottom: 4px;
      }
      
      .version {
        text-align: center;
        font-size: 11px;
        color: #9ca3af;
        margin-top: 12px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üìö Read To Watch</h1>
      
      <div class="stats-preview">
        <div class="stats-preview-title">Today's Progress</div>
        <div class="stats-preview-content">
          <div class="stat-box">
            <div class="stat-number" id="todayCount">0</div>
            <div class="stat-label">readings</div>
          </div>
          <div class="stat-box">
            <div class="stat-number" id="streakCount">0</div>
            <div class="stat-label">day streak üî•</div>
          </div>
        </div>
      </div>
      
      <div class="section">
        <div class="checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="enabled" />
            <span class="checkbox-label-text">‚ú® Extension Enabled</span>
          </label>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Reading Settings</div>
        <label class="main-label">
          Reading Level
          <select id="level"></select>
        </label>
        
        <label class="main-label">
          Max Attempts Per Word
          <input type="number" id="maxAttempts" min="1" max="5" value="2" />
        </label>
        <div class="help-text">After this many tries, the extension will help with the word</div>
      </div>

      <div class="section">
        <div class="section-title">Break & Timer</div>
        <label class="main-label">
          Break Length (seconds)
          <input type="number" id="breakLength" min="15" max="300" value="60" />
        </label>
        <div class="help-text">Time for water/potty break before reading</div>
        
        <div class="checkbox-group" style="margin-top: 12px;">
          <label class="checkbox-label">
            <input type="checkbox" id="autoStartAfterBreak" />
            <span class="checkbox-label-text">üé§ Auto-start after break</span>
          </label>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Platforms</div>
        <div class="checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="yt" />
            <span class="checkbox-label-text">üé• Gate YouTube (web)</span>
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="dplus" />
            <span class="checkbox-label-text">‚ú® Gate Disney+ (web)</span>
          </label>
        </div>
      </div>

      <div class="section">
        <div class="section-title">Screen Time</div>
        <label class="main-label">
          Daily Screen Limit (minutes, 0 = unlimited)
          <input type="number" id="dailyScreenLimit" min="0" max="480" value="0" />
        </label>
        <div class="help-text">Enforces daily limit across YouTube + Disney+</div>
      </div>

      <div class="section">
        <div class="section-title">Retell Feature</div>
        <div class="checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="askRetell" />
            <span class="checkbox-label-text">üé§ Ask for retell (record)</span>
          </label>
        </div>
        
        <label class="main-label" style="margin-top: 12px;">
          Retell Recording Length (seconds)
          <input type="number" id="retellLength" min="15" max="120" value="60" />
        </label>
        <div class="help-text">Child tells story after reading; saves .webm file</div>
      </div>

      <div class="section">
        <div class="section-title">Parent Controls</div>
        <label class="main-label">
          Skip Code
          <input type="password" id="code" placeholder="4-8 digits" maxlength="8" />
        </label>
        <div class="help-text">Change from default "0429" for security</div>
      </div>

      <div class="section">
        <div class="section-title">Experience</div>
        <div class="checkbox-group">
          <label class="checkbox-label">
            <input type="checkbox" id="toggleAutoplay" />
            <span class="checkbox-label-text">üîÑ Turn off YouTube autoplay</span>
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="requireFullPass" />
            <span class="checkbox-label-text">üíØ Require 100% accuracy</span>
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="soundEffects" />
            <span class="checkbox-label-text">üîä Sound effects</span>
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="voicePrompts" />
            <span class="checkbox-label-text">üó£Ô∏è Voice prompts</span>
          </label>
          <label class="checkbox-label">
            <input type="checkbox" id="showProgress" />
            <span class="checkbox-label-text">üìä Show progress stats</span>
          </label>
        </div>
      </div>

      <button class="btn-primary" id="save">üíæ Save Settings</button>
      
      <div class="button-group">
        <button class="btn-secondary" id="dashboard">üìä Dashboard</button>
        <button class="btn-secondary" id="reset">üîÑ Reset Progress</button>
      </div>

      <div class="section">
  <div class="section-title">Debug</div>
  <div class="checkbox-group">
    <label class="checkbox-label">
      <input type="checkbox" id="debugMode" />
      <span class="checkbox-label-text">üß™ Debug Mode (short break = 5s)</span>
    </label>
  </div>
  <div class="button-group" style="margin-top: 8px;">
    <button class="btn-secondary" id="launchGate">üöÄ Launch Gate Now</button>
  </div>
  <div class="help-text">Use this to trigger the overlay immediately on the active YouTube/Disney+ tab for testing.</div>
</div>

<div class="info-box">
        <strong>üí° Tips:</strong>
        Works best in Chrome on desktop. Ensure microphone permissions are enabled. Check the Dashboard for detailed progress!
      </div>
      
      <div class="version">Read To Watch v0.3 - Advanced Edition</div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>